# Git am

Apply a series of patches from a mailbox.

Splits mail messages in a mailbox into commit log message, authorship information and patches, and applies them to the current branch. You could think of it as a reverse operation of git-format-patch[1] run on a branch with a straight history without merges.

Git's git am command allows you to apply a series of patches that are stored in email format, typically generated by the git format-patch command or obtained from external sources like mailing lists. It enables you to incorporate changes made by others into your local Git repository.

Here's a basic usage example of the git am command:

1. Obtain a patch in email format, such as "patch.txt."
2. In your local Git repository, navigate to the root directory of the repository.
3. Run the following command to apply the patch:

```
git am < patch.txt

```

Git will read the patch from the standard input and apply the changes to your repository, creating new commits with the same authorship and commit messages as provided in the patch.

The git am command applies each patch sequentially, creating a new commit for each patch. It automatically records the original authorship and commit message information from the patch and generates new commits with that information.

git am also allows for additional options and features, such as --signoff to add a Signed-off-by line to each commit or --3way to perform a three-way merge if the patch does not apply cleanly.

Note that when using git am, conflicts may occur if the patch cannot be applied cleanly due to changes in your repository that conflict with the patch. In such cases, you may need to resolve conflicts manually before proceeding.

The git am command is particularly useful when working with patch-based workflows or when collaborating with others through email-based patch submissions. It simplifies the process of integrating patches into your Git repository while preserving the original authorship and commit history.

## Examples of a patch file

```
From <commit_hash> Mon Sep 17 00:00:00 2023
From: Author Name <author@example.com>
Date: Mon, 17 Sep 2023 00:00:00 +0000
Subject: [PATCH] Commit message

Description of the changes made in this commit.

--- a/path/to/modified/file.txt
+++ b/path/to/modified/file.txt
@@ -5,6 +5,6 @@
 Original content of the file.

-This line has been removed.
+This line has been modified.

 This line has been added.

```

Let's break down the structure of this patch file:

- The patch starts with a "From" line, which indicates the original commit that the patch is based on. It includes the commit hash, author information, and date of the original commit.
- Following the "From" line, there is the "Subject" line that specifies the commit message of the patch.
- After the header information, the patch contains a diff section that shows the changes made to the file(s). In this example, there is a single file being modified.
- The --- and +++ lines indicate the file paths before and after the changes, respectively.
- The @@ -5,6 +5,6 @@ line provides information about the line range of the original content and the modified content. In this example, it indicates that lines 5 to 6 were modified.
- Lines starting with - indicate lines that were removed.
- Lines starting with + indicate lines that were added.

In this example, the patch modifies a single file (path/to/modified/file.txt). It removes one line and modifies another line while adding a new line.

More: [Discussion](https://git-scm.com/docs/git-am#_discussion)

TODO:

- [ ] Review options
- [x] Create an example
- [ ] understand hooks
